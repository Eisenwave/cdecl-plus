<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>cdecl+</title>
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="img/favicon.png"/>
</head>

<body>

<header>
    <div id="source"><a href="https://github.com/Eisenwave/cdecl-plus">source code</a></div>
</header>

<main>
    <h1>cdecl+</h1>
    <h2>C Declarations &amp; printf/scanf &#10132; Prose</h2>
    <input id="input" autocomplete="off" spellcheck="false" autofocus oninput="parseInput(this.value)"/>
    <p id="output"></p>
    <div id="diagnostics">
        <div id="d-returning-array" class="d-error" hidden>
            <span>Return type may not be an array</span>
        </div>
        <div id="d-returning-function" class="d-error" hidden>
            <span>Return type may not be a function</span>
        </div>
        <div id="d-atomic-array" class="d-error" hidden>
            <span>Can not create atomic array</span>
        </div>
        <div id="d-atomic-function" class="d-error" hidden>
            <span>Can not create atomic function</span>
        </div>
        <div id="d-array-of-references" class="d-error" hidden>
            <span>Can not create array of references</span>
        </div>
        <div id="d-array-of-functions" class="d-error" hidden>
            <span>Can not create array of functions</span>
        </div>
        <div id="d-array-of-void" class="d-error" hidden>
            <span>Can not create array of void, which is an incomplete type</span>
        </div>
        <div id="d-reference-to-void" class="d-error" hidden>
            <span>Can not create reference to void</span>
        </div>
        <div id="d-reference-to-member" class="d-error" hidden>
            <span>Can not create reference to member</span>
        </div>
        <div id="d-void-variable" class="d-error" hidden>
            <span>Can not declare variable/parameter of type void</span>
        </div>
        <div id="d-qualified-void-parameter" class="d-error" hidden>
            <span>Void as parameter must not have type qualifiers</span>
        </div>
        <div id="d-pointer-to-reference" class="d-error" hidden>
            <span>Can not create pointer to reference</span>
        </div>
        <div id="d-qualified-array" class="d-error" hidden>
            <span>Arrays with type qualifiers may only appear in function parameters</span>
        </div>
        <div id="d-non-parameter-vla" class="d-error" hidden>
            <span>VLA of unspecified size may only appear in function parameters</span>
        </div>
        <div id="d-atomic-qualified-function" class="d-error" hidden>
            <span>Functions may not be _Atomic-qualified</span>
        </div>
        <div id="d-restrict-qualified-function" class="d-error" hidden>
            <span>Functions may not be restrict-qualified</span>
        </div>
        <div id="d-zero-size-array" class="d-warning" hidden>
            <span>Zero-size arrays are a non-standard extension</span>
        </div>
        <div id="d-implicit-int" class="d-warning" hidden>
            <span>Type is implicitly int</span>
        </div>
        <div id="d-implicit-double" class="d-warning" hidden>
            <span>Implicit double type for complex specifier is non-standard</span>
        </div>
        <div id="d-array-to-pointer-decay" class="d-info" hidden>
            <span>Parameter of array type decays to pointer</span>
        </div>
        <div id="d-function-to-pointer-decay" class="d-info" hidden>
            <span>Parameter of function type decays to pointer to function</span>
        </div>
        <div id="d-empty-function-parameters" class="d-info" hidden>
            <span>Function with empty parameter list takes unspecified number of parameters</span>
        </div>

        <div id="d-format-not-enough-args" class="d-error" hidden>
            <span>Not enough arguments were provided for the given format string.</span>
        </div>
        <div id="d-format-too-many-args" class="d-error" hidden>
            <span>Too many arguments were provided for the given format string.</span>
        </div>
        <div id="d-printf-%%" class="d-error" hidden>
            <span>%% can not accept any flags, width, precision, or length modifier</span>
        </div>
        <div id="d-scanf-%%" class="d-error" hidden>
            <span>%% can not have assignment suppression, width, or length modifier</span>
        </div>
        <div id="d-scanf-unbounded-string" class="d-warning" hidden>
            <span>%s or %[] with no width may lead to buffer overflow like
                <a href="https://en.cppreference.com/w/c/io/gets" target="_blank">
                    gets
                </a>
            </span>
        </div>
        <div id="d-scanf-leading-whitespace" class="d-warning" hidden>
            <span>literals, %c and %[] do not consume leading whitespace,
                <a href="https://stackoverflow.com/q/26391465">
                    which may be a pitfall here
                </a>
            </span>
        </div>
        <div id="d-printf" class="d-info" hidden>
            <span>For more info, see
                <a href="https://en.cppreference.com/w/c/io/fprintf" target="_blank">
                    printf documentation
                </a>
            </span>
        </div>
        <div id="d-scanf" class="d-info" hidden>
            <span>For more info, see
                <a href="https://en.cppreference.com/w/c/io/fscanf" target="_blank">
                    scanf documentation
                </a>
            </span>
        </div>
    </div>

    <p id="debug-output" hidden></p>
</main>

<div id="back"></div>

<footer>
    <div id="author">by <a href="https://github.com/Eisenwave">eisenwave</a></div>
</footer>

<script>const module = {};</script>
<script src="js/parser.min.js"></script>
<script src="js/printf-parser.min.js"></script>
<script src="js/scanf-parser.min.js"></script>
<script src="js/prose-decl.js"></script>
<script src="js/prose-printf.js"></script>
<script src="js/prose.js"></script>
<script src="js/main.js"></script>
</body>
</html>
